name: Yarn Target Determinator
description: Determine a list of Yarn 2 workspaces to test using a list of changed files.

branding:
  icon: target
  color: red

inputs:
  files:
    description: Array of all changed files to validate, encoded as a JSON array
    required: true
  skipRoot:
    description: Set to true to prevent the root workspace from being returned as a target
    required: false
    default: false

outputs:
  targets:
    description: The list of Yarn workspaces to test, encoded as a JSON array

runs:
  using: node16
  main: dist/index.js
